var Labelobj,filePath="/portal/individuals/",module="module/",moduleName,moduleVersion="24012024",moduleAPIObject={},moduleId,json=filePath+"",loadlabelPath="labels.json",loadedLabels="",errorfunctionName=[],errorparentarguments_value=[],functionName=[],parentfunctionName=[],startData=[],SuccessData=[],funcName=[],errorfuncName=[],successfuncName=[],errorData=[],IDData=[],langElem=document.querySelectorAll("html"),langc,indexScript,FontIconJson,myparent=[],searchSelect="",responseObjAddressWidget,responseObjSecAddressWidget,actionObjAddressWidget,functionIsRun=0,error400=[400,401,402,403,404,405,406,407,408,409,417,429];error500=[500,501,502,503,504,505,506,507,508,509,517,529],successList=[200,201,202,203,204,205,206,207,208,209,210];var $elem=function(selector){if(selector==document){if(!(this instanceof $elem))return new $elem(selector);this.el=selector}else{if(!(this instanceof $elem))return new $elem(selector);this.el=document.querySelectorAll(selector)}return this};$elem.prototype.css=function(prop,val){return this.el.forEach((function(element){element.style[prop]=val})),this},$elem.prototype.html=function(val){if(""==val)this.el.forEach((function(element){element.innerHTML=""}));else{let Newelem=this.el[0].id;document.getElementById(Newelem).innerHTML=val}},$elem.prototype.beforebegin=function(val){return this.el.forEach((function(element){element.insertAdjacentHTML("beforebegin",val)})),this},$elem.prototype.afterend=function(val){return this.el.forEach((function(element){element.insertAdjacentHTML("afterend",val)})),this},$elem.prototype.prepend=function(val){return this.el.forEach((function(element){element.insertAdjacentHTML("afterbegin",val)})),this},$elem.prototype.append=function(val){return this.el.forEach((function(element){element.insertAdjacentHTML("beforeend",val)})),this},$elem.prototype.toggleClass=function(val){return this.el.forEach((function(element){element.classList.toggle(val)})),this},$elem.prototype.hide=function(){return this.el.forEach((function(element){element.style.display="none"})),this},$elem.prototype.show=function(){return this.el.forEach((function(element){element.style.display="block"})),this},$elem.prototype.addClass=function(value){return this.el.forEach((function(element){element.classList.add(value)})),this},$elem.prototype.removeClass=function(value){return this.el.forEach((function(element){element.classList.remove(value)})),this},$elem.prototype.hasClass=function(value){let prop="";return this.el.forEach((function(element){prop=element.classList.contains(value)})),prop},$elem.prototype.on=function(prop,val){return this.el.forEach((function(element){element.addEventListener(prop,val,!1)})),this},$elem.prototype.ready=function(prop,val){return this.el.forEach((function(element){element.addEventListener("DOMContentLoaded",val,!1)})),this},$elem.prototype.ready=function(val){return this.el.addEventListener("DOMContentLoaded",val),this},$elem.prototype.submit=function(val){return this.el.forEach((function(element){element.addEventListener("submit",val,!1)})),this},$elem.prototype.attr=function(prop,value){return this.el.forEach((function(element){element.setAttribute(prop,value)})),this},$elem.prototype.removeAttr=function(prop){return this.el.forEach((function(element){element.removeAttribute(prop)})),this},$elem.prototype.attrr=function(prop){return this.el.forEach((function(element){element.attributes[prop].value})),this.el[0].attributes[prop].value},$elem.prototype.each=function(value){const x=document,y=this.el;for(let i=0;i<this.el.length;i++)this.el.forEach((function(element){element.id}));return this},$elem.prototype.remove=function(value){return this.el.forEach((function(element){element.remove(value)})),this},$elem.prototype.appendElement=function(prop){let sham;return this.el.forEach((function(element){var elem=document.createElement(prop);try{sham=this.$elem.prototype.appendElement.arguments.callee.caller.name}catch(e){}elem.setAttribute("id","NewDiv"+(sham||"")),element.appendChild(elem)})),this},$elem.prototype.prependElement=function(prop){let sham;return this.el.forEach((function(element){var elem=document.createElement(prop);try{sham=this.$elem.prototype.appendElement.arguments.callee.caller.name}catch(e){}elem.setAttribute("id","NewDiv"+(sham||"")),element.prepend(elem)})),this},$elem.prototype.prop=function(value){var Newelem="",sham;return this.el.forEach((function(element){for(let j=0;j<element.childNodes.length;j++){try{sham=element.childNodes[j].id.search("NewDiv")}catch(e){sham=-1}("NewDiv"==element.childNodes[j].id||sham>=0)&&(Newelem=element.childNodes[j].id)}for(let i=0;i<Object.keys(value).length;i++)"innerHTML"==Object.keys(value)[i]?document.getElementById(Newelem).innerHTML=Object.values(value)[i]:(document.getElementById(Newelem).setAttribute(Object.keys(value)[i],Object.values(value)[i]),"id"==Object.keys(value)[i]&&(Newelem=Object.values(value)[i]))})),this};const errorApi=errorCode=>null==errorCode.status?null===errorCode.status?1:Object.getOwnPropertyNames(errorCode).length>=1?0:1:2===parseInt(errorCode.status.toString()[0])?0:1,getLang=id=>moduleAPIObject[id].local.labels_i18n[langc],searchAPI=(api,search)=>{for(let j of api)if(j.id==search)return j.id};function ResetArray(){errorfunctionName=[],functionName=[],parentfunctionName=[],startData=[],SuccessData=[],funcName=[],errorData=[],IDData=[]}function fatalError(id,error){let msg="en-US"==langc?"Sorry, service is currently unavailable, please try again later":"عفواً، الخدمة غير متوفرة حالياً.";$elem("#"+id).html(""),$elem("#"+id).appendElement("div").prop({id:"Error1"+id,class:"",innerHTML:""}),$elem("#Error1"+id).appendElement("div").prop({id:"Error2"+id,class:"message-alert message-error",innerHTML:""}),$elem("#Error2"+id).appendElement("span").prop({id:"Error3"+id,class:"",innerHTML:""}),$elem("#Error3"+id).html(error||msg)}function innerloader(id){$elem("#"+id).prependElement("div").prop({id:"loader"+id,class:"inner-overlay componentLoader"}),$elem("#loader"+id).appendElement("div").prop({id:"loader1"+id,class:"justify-content-center col-12 d-flex py-5 loader"}),$elem("#loader"+id).appendElement("div").prop({id:"loader2"+id,class:"justify-content-center col-12 d-flex py-3 loader-text",innerHTML:""})}function innerunloader(id){$elem(".componentLoader").remove()}function loader(){functionIsRun=1,logoAnimLoader()}function unloader(){Boolean($elem(".mask-submit-loader").el[0])&&(functionIsRun=0,logoAnimLoader("hide"))}function innerErrorfunction(id,error){$elem("#messages"+id).appendElement("div").prop({id:"Error1"+id,class:"",innerHTML:""}),$elem("#Error1"+id).appendElement("div").prop({id:"Error2"+id,class:"message-alert message-error",innerHTML:""}),$elem("#Error2"+id).appendElement("span").prop({id:"Error3"+id,class:"",innerHTML:""}),$elem("#Error3"+id).html(error||getLang(id).Error3)}function innerSuccessfunction(id,success){$elem("#messages"+id).appendElement("div").prop({id:"Error1"+id,class:"",innerHTML:""}),$elem("#Error1"+id).appendElement("div").prop({id:"Error2"+id,class:"message-alert message-success",innerHTML:""}),$elem("#Error2"+id).appendElement("span").prop({id:"Error3"+id,class:"",innerHTML:""}),$elem("#Error3"+id).html(success||getLang(id).successActionMsg)}function innerInfofunction(id,info){$elem("#messages"+id).appendElement("div").prop({id:"Error1"+id,class:"",innerHTML:""}),$elem("#Error1"+id).appendElement("div").prop({id:"Error2"+id,class:"message-alert message-info",innerHTML:""}),$elem("#Error2"+id).appendElement("span").prop({id:"Error3"+id,class:"",innerHTML:""}),$elem("#Error3"+id).html(info||getLang(id).infoMsg)}function errorfunction(error){let msg="en-US"==langc?"Sorry, service is currently unavailable, please try again later":"عفواً، الخدمة غير متوفرة حالياً.";$elem("#Error1"+id).html(error||msg),$elem("#Error4").hide(),$elem("#Error3").show(),$elem("#Error").show(),$elem("#Error5").on("click",(function(){$elem("#Error").hide()})),$elem("#Error5").on("click",(function(){$elem("#Error").hide()}))}function Success(){functionIsRun=0,$elem("#Error").hide()}function toggleLang(value){1==value?sessionStorage.setItem("lang","rtl"):sessionStorage.setItem("lang","ltr")}function Language(){"ar"==$elem("html").attrr("lang")?(langElem=$elem("html").attrr("lang"),langc="ar-SA"):(langElem=$elem("html").attrr("lang"),langc="en-US")}function initlang(){$elem("body").toggleClass("rtl"),$elem("body").toggleClass("ltr"),toggleLang($elem("body").hasClass("rtl")),Language(),functionName.length>0&&functionName.filter(val=>val.functionName(val.arg[0]))}function exitfunction(){errorparentarguments_value=[],parentfunctionName.filter(val=>val.Error=!1),unloader()}function callBackfunctions(){parentfunctionName.length>0&&parentfunctionName.filter(val=>{1==val.Error&&Import(val)})}function errorCallBack(func,inData,sucData,error,id){if(sucData&&parentfunctionName.filter(val=>{val.funcname==func&&(val.Error=!1)}),error&&parentfunctionName.filter(val=>{val.funcname==func&&(val.Error=!0)}),parentfunctionName.length>0){let errorObjectExist;if(parentfunctionName.filter(val=>{if(0==val.Error||1==val.Error)return!0}).length>0){let errorfunc;0==parentfunctionName.filter(val=>{if(1==val.Error)return!0}).length?(Success(),unloader()):(unloader(),errorfunction())}}}function ErrorCallBackfunction(func,error){errorCallBack(func,"","","Error")}function rootInitialiseFunction(params,func){let collector=0,InitialFunc=functionName.filter(val=>{val.functionName.name==func.name&&(collector=1)});0==collector&&functionName.push({functionName:func,arg:[params]})}FontIconJson={APPOINTMENT_CIVIL_AFFAIR:"fa fa-clock",APPOINTMENT_PASSPORT:"fa fa-clock",APPOINTMENT_PRISON:"fa fa-clock",APPOINTMENT_SHAHEED_ON_DUTY:"fa fa-clock",AUTHORIZATION:"far fa-address-card",QABUL:"far fa-address-card",SPONSERSHIP_TRANSFER:"far fa-address-card",TRAFFIC_VIOLATION:"far fa-address-card",VEHICLE_REGISTRATION_RENEW:"far fa-address-card",DRIVING_LICENSE:"far fa-address-card",USER_ID:"far fa-address-card",SPONSERED_PERSON_ID:"far fa-address-card",IQAMA_RENEW:"fa fa-clock",PASSPORT_USER:"fas fa-passport",PASSPORT_RENEW:"fas fa-passport",PASSPORT_UPDATE:"fas fa-passport"};var loadlabel=params=>{let functionName=loadlabel;errorCallBack(functionName.name,"Started");let jsonfile=params;try{CallBackAPIFunction(jsonfile).then(response=>{Labelobj=response}).catch(error=>{ErrorCallBackfunction(params,functionName,error)})}catch(error){ErrorCallBackfunction(params,functionName,error)}};function pagination(mainurl){let pageURL,mainPageURL=window.location.href.split("#")[0];var xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var doc=(new DOMParser).parseFromString(this.responseText,"text/html"),script;pageview(doc,$(doc.documentElement).find("script#contentScript").html())}},xhttp.open("POST",mainPageURL,!0),xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded"),xhttp.send("")}function ScriptRun(val){var sham=val;-1==val.search("index")?eval(val):PageLoadFunc(indexScript)}function pageview(doc,script){var mainhtml,finalhtml=$(doc.documentElement).find("body").find(".screen").html();$elem(".screen .page").addClass("parent-area"),$elem(".screen .page").removeClass("left-area"),$elem(".screen .page").removeClass("page"),$elem(".screen").append('<div class="page hide-area">'+finalhtml+"</div>");var timeout=setInterval((function(){0==functionIsRun&&($elem(".screen .hide-area").addClass("left-area"),$elem(".screen .page").removeClass("hide-area"),$elem(".screen .parent-area").remove(),ResetArray(),mainfunction(),ScriptRun(script),clearInterval(timeout))}),200)}function GetModule(module){for(i of myparent)for(j of Object.values(i.param)){if(j==module){let settime=setTimeout((function(){clearTimeout(settime),func(i),unloader()}),1e3)}break}}function objectAssign(params){let body={};for(k of params)null!=k.id&&("radio"==k.type?1==k.checked&&Object.assign(body,{[k.name]:k.value}):Object.assign(body,{[k.id]:k.value})),null==k.id&&Object.assign(body,{[Object.keys(k)]:Object.values(k)});return body}function SearchObjectData(...params){for(value of params[0][params[1]][Object.getOwnPropertyNames(params[0][params[1]])])if(value.addressId==params[2])return value}function verifyFields(...params){loader(),"PUT"==params[6]&&CallBackAPIFunction(params[2]+params[1],params[6],params[0]).then(response=>{if(0==errorApi(response)){$elem("#"+params[4].id).hide(),$elem("#"+params[4].id).removeClass("in");let sotrageData=JSON.parse(sessionStorage.getItem("responsObj"));delete sotrageData.getAddListbyID,sessionStorage.setItem("responsObj",JSON.stringify(sotrageData)),GetModule(params[5]),innerSuccessfunction(params[5],"")}else innerErrorfunction(params[5],null==response.reponseObj?"":response.reponseObj.errorModelList[0].errorMessage[langc]),$elem("#"+params[4].id).hide(),$elem("#"+params[4].id).removeClass("in"),unloader()}).catch(error=>{unloader()}),"POST"==params[6]&&CallBackAPIFunction(params[2],params[6],params[0]).then(response=>{if(0==errorApi(response)){$elem("#"+params[4].id).hide(),$elem("#"+params[4].id).removeClass("in");let sotrageData=JSON.parse(sessionStorage.getItem("responsObj"));delete sotrageData.getAddListbyID,sessionStorage.setItem("responsObj",JSON.stringify(sotrageData)),innerSuccessfunction(params[5],""),GetModule(params[5])}else innerErrorfunction(params[5],null==response.reponseObj?"":response.reponseObj.errorModelList[0].errorMessage[langc]),$elem("#"+params[4].id).hide(),$elem("#"+params[4].id).removeClass("in"),unloader()}).catch(error=>{unloader()}),"DELETE"==params[5]&&CallBackAPIFunction(params[0]+params[1],params[5],params[2]).then(response=>{if(0==errorApi(response)){$elem("#"+params[3].id).hide(),$elem("#"+params[3].id).removeClass("in");let sotrageData=JSON.parse(sessionStorage.getItem("responsObj"));delete sotrageData.getAddListbyID,sessionStorage.setItem("responsObj",JSON.stringify(sotrageData)),innerSuccessfunction(params[4],""),GetModule(params[4])}else{var errorMsg="";errorMsg="en-US"==langc?null==response.reponseObj?"":"string"==typeof response.reponseObj[0]?response.reponseObj:response.reponseObj.errorModelList[0].errorMessage[langc]:"409"==response.status?getLang(params[4]).Error1:getLang(params[4]).Error2,innerErrorfunction(params[4],errorMsg),$elem("#"+params[3].id).hide(),$elem("#"+params[3].id).removeClass("in"),unloader()}}).catch(error=>{unloader()})}const serverOrigin=host=>{let path;return("s"==host?window.location.origin+":10039":window.location.origin)+"/"},formModal=parentParams=>{let modal="";for(let arg of parentParams)modal=`\n<div class="modal fade default-modal-theme" tabindex="-1" id="${arg.modal}" style="display: none;">\n  <div class="modal-dialog modal-md addressBlockForm">\n      <form id="${arg.formId}" data-toggle="validation" onsubmit="validation(${arg.modal},${arg.formId},'${arg.action}','${arg.reqid}','${arg.module}','${arg.id}');" role="form">\n        <div class="modal-content">\n            <div class="modal-header">\n                <a href="javascript:void(0)" class="close ${arg.id}closeModal" data-dismiss="modal" onclick="$elem('#${arg.modal}').hide();$elem('#${arg.modal}').removeClass('in');"><i class="icon-cancel"></i></a>\n                <h4 class="modal-title"> ${arg.Title}</h4>\n            </div>\n          <div class="modal-body">\n              <div class="common-body">   \n                   <div class="formContainer">\n                      ${arg.body}\n                   </div>\n            </div>\n        </div>\n        <div class="modal-footer">\n          <div class="formButtons" align="center">\n            <input type="submit" id="btn${arg.formId}" value="${arg.submitbtn}" class="actionButton ${"hide"==arg.submitbtn?"hide":""} round-button btn-${arg.formId}">\n            <input type="button" onclick="$elem('#${arg.modal}').hide();$elem('#${arg.modal}').removeClass('in');" id="cancel${arg.formId}" value="${arg.cancelbtn}" class="round-button cancel-${arg.formId}">\n          </div>   \n        </div>\n      </div>\n    </form>\n  </div>\n</div>`;return modal},tbl3input=(...params)=>{let id,modal="",onchange="",radiobtn,select,subselection,input,localLang=params[4],regionList='<option value="" selected="selected">'+localLang.SelectHere+"</option>",structure;for(let arg of params[0].getFormField){if(id=arg.id,mendatory="*"==arg.relMendatory?"required":"","select"==arg.type&&arg.relsubselection){arg.relsubselection&&(onchange=`onchange="getSelectData(this.value,'${arg.relsetval+langElem}',${params[2]},'${params[1].getAllcities}','${localLang.SelectHere}')"`);for(let optionsList of params[0].getAllRegions)regionList+=`\n  <option value="${optionsList.lookupId}">${optionsList.lookupValue[langc]}</option>\n  `}else onchange="",regionList='<option value="" '+("Update"!==params[5]?'selected="selected"':"")+">"+localLang.SelectHere+"</option>";let inputText="",display;for(i of Object.entries(arg))inputText+=-1==i[0].search("rel")?-1==i[0].search("placeholder")?`${i[0]}="${i[1]}" `:`${i[0]}="${localLang[i[1]]}"`:"";if("text"==arg.type&&(input=`<input data-lang="${arg.rellang}" name="${arg.id}" ${inputText} ${mendatory}>`),"datalist"==arg.type&&(input=`<div class="dataListContainer"><input name="${arg.id}" type="text" ${inputText} ${mendatory}> <datalist id="${arg.list}">${regionList}</datalist></div><input type="hidden" id="${arg.id+"Id"}">`),"select"==arg.type&&(input=`<select ${inputText} ${onchange} class="cityList" name="${arg.inputID}" ${mendatory}>${regionList}</select>`),"hidden"==arg.type&&(input=`<input name="${arg.id}" ${inputText}>`),"radio"==arg.type){input="";let addressTypeData=[];addressTypeData=params[0].addressType.map((item,i)=>Object.assign({},item,arg.radio[i]));for(let j of addressTypeData)input+=`\n    <span>\n  <input id="${j.id}" type="radio" name="${j.Name}" value="${j.lookupId}" ${mendatory}> <label for="${j.id}"> ${j.lookupValue[langc]}</label>\n  </span>\n    `}modal+=`\n  <tr ${"hidden"==arg.type?'style="display:none"':""}>\n    <td> \n      <span class="langEn">${""!=arg.relTitle?localLang[arg.relTitle]:""}</span>\n      <span class="mandatoryAsterisk">${arg.relMendatory}</span> \n    </td> \n    <td class="colon">:</td> \n    <td> \n     ${input}\n    </td> \n  </tr>\n  `}return`\n      <table class="tbl3column tbl3column-md">\n          <tbody>\n             ${modal}\n          </tbody>\n      </table>\n  `},tbl3view=(...params)=>{let id,modal="",input,localLang=params[4];const setEntry=(label,value)=>`\n  <tr>\n    <td> \n      <span class="langEn">${label}</span>\n    </td> \n    <td class="colon">:</td> \n    <td> \n     ${value}\n    </td> \n  </tr>\n  `;for(let arg of Object.entries(params[5])){let viewEntry;void 0!==(null==localLang[arg[0]]&&"object"==typeof arg[1]?localLang[arg[0]+langc]:localLang[arg[0]])&&("object"==typeof arg[1]&&"street"==arg[0]||"object"==typeof arg[1]&&"district"==arg[0]?(modal+=setEntry(localLang[arg[0]+"ar-SA"],arg[1]["ar-SA"]),modal+=setEntry(localLang[arg[0]+"en-US"],arg[1]["en-US"])):modal+=setEntry(localLang[arg[0]],"object"==typeof arg[1]?arg[1][langc]:arg[1]))}let structure;return`\n      <table class="tbl3column tbl3column-md">\n          <tbody>\n             ${modal}\n          </tbody>\n      </table>\n  `},fileload=(path,ext,tag)=>{if("js"==ext){$elem(tag||"body").append(`<script src="${path}"><\/script>`);var oldscript=document.querySelector("script[src^='"+path+"']"),newscript;(newscript=document.createElement("script")).src=path+"?v="+moduleVersion,oldscript.parentNode.replaceChild(newscript,oldscript)}else{$elem(tag||"body").append(`<link rel="stylesheet" type="text/css" href="${path}"/>`);var oldscript=document.querySelector("link[href^='"+path+"']"),newscript;(newscript=document.createElement("link")).href=path+"?v="+moduleVersion}},adpages=async(...params)=>{let resp,outputData,extention=params[1].split(".")[1];try{resp=await fetch(params[0]+params[1]),outputData=await resp.text()}catch(error){return new Promise((resolve,reject)=>{errorfunction(error)})}return new Promise((resolve,reject)=>{resolve("css"==extention?"<style>"+outputData+"</style>":outputData)})},CallBackAPIFunction=async(...parentParams)=>{let jsontype,url,mainLabelobj={},i,sessionResponsObj="",sessionTrue="",jsonurl=parentParams[0],method=parentParams[1],body=parentParams[2],id=parentParams[3],sessionData=parentParams[4],region=parentParams[5],funcStatus=parentParams[6],fetchAPIData="";if("GET"==method){const fetchAPI=async(...params)=>{let dataReturn={status:"0"},Labelobj;if(sessionData&&(sessionResponsObj=JSON.parse(sessionStorage.getItem("responsObj")),sessionTrue="",Object.getOwnPropertyNames(sessionResponsObj).forEach((v,i,a)=>{if(params[3]==v)return sessionTrue=v})),sessionData&&sessionTrue==params[3])dataReturn="local"==sessionTrue?{status:200,labels_i18n:sessionResponsObj[sessionTrue].labels_i18n}:{status:200,reponseObj:sessionResponsObj[sessionTrue]},Labelobj={status:200};else for(let i=0;i<params[2]&&200!=dataReturn.status;i++)try{Labelobj=await fetch(params[0],{cache:params[1]}),"js"==params[0].split(".")[1].split("?")[0]?(dataReturn=await Labelobj.text(),eval(dataReturn),dataReturn={reponseObj:eval(Object.keys(jsonurl[0])[0])},dataReturn.status=200):dataReturn=await Labelobj.json()}catch(e){dataReturn={status:"404"},Labelobj={status:404}}return{dataReturn:dataReturn,Labelobj:Labelobj}};if("string"!=typeof jsonurl)for(i of jsonurl){if(jsontype=Object.keys(i)[0],url=i[Object.keys(i)],"json"==jsontype)mainLabelobj.push(url);else try{fetchAPIData=await fetchAPI(url,"no-cache",5,Object.keys(i)[0]),0==errorApi(fetchAPIData.Labelobj)&&0==errorApi(fetchAPIData.dataReturn)?"local"===Object.keys(i)[0]?i[Object.keys(i)]=fetchAPIData.dataReturn:i[Object.keys(i)]=fetchAPIData.dataReturn.reponseObj:"parent"==funcStatus?fatalError(id,"string"!=typeof fetchAPIData.dataReturn.reponseObj&&null!=fetchAPIData.dataReturn.reponseObj?fetchAPIData.dataReturn.reponseObj.errorModelList[0].errorMessage[langc]:""):"addressType"==Object.keys(jsonurl[1])[0]?(fetchAPIData=await fetchAPI("/portal/individuals/module/AddressWidget/addresstype.json","no-cache",5,Object.keys(i)[0]),"local"===Object.keys(i)[0]?i[Object.keys(i)]=fetchAPIData.dataReturn:i[Object.keys(i)]=fetchAPIData.dataReturn.reponseObj):innerErrorfunction(id,"string"!=typeof fetchAPIData.dataReturn.reponseObj&&null!=fetchAPIData.dataReturn.reponseObj?fetchAPIData.dataReturn.reponseObj.errorModelList[0].errorMessage[langc]:"")}catch(error){return new Promise((resolve,reject)=>{reject(error)})}if(0!=jsontype&&0==errorApi(i[Object.getOwnPropertyNames(i)])&&0==errorApi(fetchAPIData.dataReturn)){let key=Object.keys(i)[0],value=i[Object.keys(i)[0]];Object.assign(mainLabelobj,{[key]:value})}}else try{let fetchAPIData=await fetchAPI(jsonurl,"no-cache",5,region);0==errorApi(fetchAPIData.Labelobj)&&0==errorApi(fetchAPIData.dataReturn)?mainLabelobj=fetchAPIData.dataReturn.reponseObj:innerErrorfunction(id,"string"!=typeof fetchAPIData.dataReturn.reponseObj[0]&&null!=fetchAPIData.dataReturn.reponseObj?fetchAPIData.dataReturn.reponseObj.errorModelList[0].errorMessage[langc]:fetchAPIData.dataReturn.reponseObj[0])}catch(error){return new Promise((resolve,reject)=>{innerErrorfunction(id,error),reject(error)})}return new Promise((resolve,reject)=>resolve(mainLabelobj))}if("POST"==method||"PUT"==method||"DELETE"==method)return fetch(jsonurl,{method:"POST",body:JSON.stringify(body),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(response=>200==response.status?response.json():mainLabelobj={status:response.status}).then(text=>mainLabelobj=text).then(error=>error),new Promise((resolve,reject)=>{let prm=setInterval((function(){Object.keys(mainLabelobj).length>0&&(clearInterval(prm),resolve(mainLabelobj))}),1)})},getSelectData=async(jsonfile,setval,form,URL,cityID,selectHere)=>{if(""==form){let resp,outputData,cityObject;try{let resp=await fetch(URL+jsonfile);outputData=await resp.json();for(let r of outputData.reponseObj)r.lookupId==cityID&&(cityObject=r)}catch(error){return new Promise((resolve,reject)=>{reject(error)})}return new Promise((resolve,reject)=>{resolve(cityObject)})}{loader();let id=form.id.replace("formupdate","");CallBackAPIFunction(URL+jsonfile,"GET","",form.id.replace("formupdate","")).then(response=>{if(0==errorApi(response)){let cityName="",dataList=form[2].parentElement.querySelector("datalist"),input=form[2],boolean=Boolean(dataList),setIntervaltime,select=boolean?dataList:form[2],setvalLength=select.options.length;for(let j=0;j<=setvalLength;j++)boolean?dataList.options.length>=2&&(dataList.options[1].text!=selectHere&&dataList.children[1].remove()):select.options.length>=2&&(select.options[1].text!=selectHere&&(select.options[1]=null));for(let optionsList of response)boolean?select.appendChild(new Option(optionsList.lookupValue[langc],optionsList.lookupValue[langc])):select.add(new Option(optionsList.lookupValue[langc],optionsList.lookupId));if(cityID){for(let arg2 of select.options)arg2.value==cityID&&(arg2.selected=!0,arg2.setAttribute("selected","selected"));setIntervaltime=setInterval(()=>{$elem("#cityId").el[0].options.length>=5&&(searchSelect&&searchSelect.destroy(),(searchSelect=NiceSelect.bind(document.getElementById("cityId"),{searchable:!0,placeholder:select.selectedOptions[0].text,searchtext:select.selectedOptions[0].text})).update(),select.style.position="absolute",clearInterval(setIntervaltime))},10)}if(boolean){$elem("#"+input.id).on("input",(function(e){for(let city of response)city.lookupValue[langc]==e.target.value&&(form[3].value=city.lookupId)}));let clearVal="Select Here"==cityID||"اختر"==cityID;clearVal&&(input.value=""),clearVal&&(form[3].value="")}0==form[2].validity.valueMissing&&form[2].setCustomValidity("")}else{let errorMsg="";errorMsg="en-US"==langc?null==response.reponseObj?"":response.reponseObj.errorModelList[0].errorMessage[langc]:"409"==response.status?getLang(params[0]).Error4:getLang(params[0]).Error2,innerErrorfunction(moduleId,errorMsg),$elem(".modal").hide(),$elem(".modal").removeClass("in")}unloader()}).catch(error=>{unloader(),innerErrorfunction(moduleId,"")})}},moduleAPIObj=(...params)=>({...moduleAPIObject,[params[0]]:params[1],[params[2]]:params[3]});function mainfunction(){Language()}Language();