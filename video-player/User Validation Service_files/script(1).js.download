var ParentURL="/wps/wcm/connect/individuals/",sorting="desc";sessionStorage.clear(),sessionStorage.sorting=!1;var suggestionsLangURL="en"==$("html").attr("lang")?ParentURL+"69603eed-73ae-4934-b7a2-1698de9c2385/services_suggestation_data_en.js?MOD=AJPERES":ParentURL+"54a41d40-59d7-4ade-8524-54c4794e9954/services_suggestation_data_ar.js?MOD=AJPERES",searchLangURL="en"==$("html").attr("lang")?ParentURL+"c535d58c-3130-4c56-b6cd-9eb60a4a909b/services_search_data_en.js?MOD=AJPERES":ParentURL+"b887ccf7-8693-4f14-a6c5-03de371232f5/services_search_data_ar.js?MOD=AJPERES",suggestionslocalLangURL="en"==$("html").attr("lang")?"/portal/individuals/js/services_suggestation_data_en.js?ver=22082023":"/portal/individuals/js/services_suggestation_data_ar.js?ver=22082023",searchlocalLangURL="en"==$("html").attr("lang")?"/portal/individuals/js/services_search_data_en.js?ver=22082023":"/portal/individuals/js/services_search_data_ar.js?ver=22082023",suggestionsURL=$("html").hasClass("prod")?suggestionsLangURL:suggestionslocalLangURL,searchURL=$("html").hasClass("prod")?searchLangURL:searchlocalLangURL,pageLength=10,options={valueNames:["name","desc","keywords"],page:pageLength,pagination:!0,item:function(values){let addAttr="",dataFilters,htmlItem=`<li class="search-list__item" data-filter="${values.filters.split(",")}" >\n                    <a href="${values.url}">\n                        <span class="type">${values.type}</span>\n                        <span class="name">${values.name}</span>\n                        <span class="desc">${values.desc}</span>\n                        <span class="keywords hidden">${values.keywords}</span>\n                    </a>\n                </li>`;return values.url="",htmlItem}},options1={valueNames:["name","desc","keywords"],page:5,pagination:!0},values=[],data=[];"undefined"!=typeof List&&($.getScript(suggestionsURL,(function(data){try{suggetionsData.map((function(item){$(".suggetionsBox ul").append("<li><a href='"+item.url+"'>"+item.name+"</a></li>")}))}catch(error){}})),$("#filterAccordion a[data-filter='*']").addClass("selected").hide(),$.getScript(searchURL,(function(data){try{let valObjet=JSON.stringify(servicesData);valObjet=JSON.parse(valObjet);let body1={},bodyadded=0;for(k of valObjet)k.url="",Object.assign(body1,{[bodyadded]:Object.assign(k)}),bodyadded++;var lbl_SearchFound_lead=$("body").hasClass("rtl")?"تم العثور على  ":"Results Found",lbl_SearchFound_trail=$("body").hasClass("rtl")?"من النتائج  ":"";userList=new List("searchBox",options,servicesData),userList.on("updated",(function(list){$(".result_Found").text(lbl_SearchFound_lead+" ("+list.matchingItems.length+")"+lbl_SearchFound_trail),list.matchingItems.length>0?($(".btn_Area").show(),list.matchingItems.length>pageLength?$(".pagination").show():$(".pagination").hide()):$(".pagination").hide()}))}catch(error){}$("#search-result-item").hide(),jq_bt(".searchlink").on("click",(function(){jq_bt("#SearchModal").modal({backdrop:!1,keyboard:!1,show:!0}),jq_bt("body").append('<div class="search-backdrop modal-backdrop fade in"></div>'),$("#search1").focus()})),jq_bt(".orderlist").on("click",(function(){sessionStorage.sorting=!0,sorting="asc"==sorting?"desc":"asc",userList.sort("name",{order:sorting})})),jq_bt(".close-suggetion").on("click",(function(){jq_bt("#SearchModal").modal("hide"),jq_bt(".modal-backdrop").remove()})),$(".search-modal").on("click",".search-close-icon",(function(){$(".search-modal .searchTxt").val("").focus(),$(".search_autocomplete").addClass("hide"),$(".search-close-icon").remove(),$("#search-result-item").hide(),$("#search-sugetions-item").show()}))}))),jq_bt(window).on("click",(function(event){if(("filterSearch"==event.target.id||"list-group-item"==event.target.classList[0]||null==event.target.parentElement?event.target.classList[0]:"panel-title"==event.target.parentElement.classList[0])?($("#filterlist").addClass("clicked"),jq_bt("#filterSearch").show()):(jq_bt("#filterSearch").hide(),$("#filterlist").removeClass("clicked")),"filterlist"==event.target.id){let advancedSearchBox;document.querySelector("#filterSearch").style.display="none"==sessionStorage.filterSE?"none":"block","none"==sessionStorage.filterSE?$elem("#filterlist").el[0].classList.remove("clicked"):$elem("#filterlist").el[0].classList.add("clicked")}(null==event.target.parentElement?event.target.classList[0]:"searchTxt"==event.target.classList[0])?$elem(".search_autocomplete>ul li").el.length>0&&jq_bt(".search_autocomplete").removeClass("hide"):jq_bt(".search_autocomplete").addClass("hide")}));const addDeleteTextBtn=(e,val)=>{""!=e.target.value?!1===Boolean(val.parentElement.children[3].className)&&val.parentElement.children.btnid.insertAdjacentHTML("beforebegin",'<i class="search-close-icon"></i>'):val.parentElement.children[3].remove()},addDeleteTextBtnSearch=(e,val)=>{""!=e?!1===jq_bt("i").hasClass("search-close-icon")&&$elem(".search_input>#btnid").el[0].insertAdjacentHTML("beforebegin",'<i class="search-close-icon"></i>'):$elem(".search_input>#btnid").el[0].remove()};document.querySelector("#search1").value.length>=1&&document.querySelector("#search1").parentElement.children.btnid.insertAdjacentHTML("beforebegin",'<i class="search-close-icon"></i>'),$("#search1").on("input",(function(e){addDeleteTextBtn(e,this);var acomp=$(".search_autocomplete"),acompUL=$(".search_autocomplete ul"),trmList=[],ttlList=[],allData=servicesData;let term,terms,title,words;acompUL.empty(),allData.forEach((v,i,a)=>{term=this.value.toLowerCase().trim(),terms=term.split(" "),title=v.name.toLowerCase(),words=title.split(" "),-1!=title.search(term)&&words.forEach((j,k,l)=>{terms.length>0?terms.forEach((m,n,o)=>{j.startsWith(m.trim())&&0==trmList.includes(j)&&""!=m&&(trmList.push(j),acompUL.append(`<li class="acTermItem"><a href="javascript:void(0)" title="${j}">${j}</a></li>`))}):j.startsWith(term.trim())&&0==trmList.includes(j)&&(trmList.push(j),acompUL.append(`<li class="acTermItem"><a href="javascript:void(0)" title="${j}">${j}</a></li>`)),0==ttlList.includes(title)&&(ttlList.push(title),acompUL.append(`<li class="acTermItem"><a href="javascript:void(0)" title="${title}">${title}</a></li>`))})}),acompUL.append("\n      <script>\n      jq_bt(\".acTermItem a\").on(\"click\",function(e){\n        addDeleteTextBtnSearch(this.attributes.title.value,this);\n        $('#search1').val(this.attributes.title.value); \n        $('#btnid').click();\n      })\n      <\/script>\n      "),trmList.length>0?acomp.removeClass("hide"):acomp.addClass("hide")}));const newSearchText=()=>{let newSearchText=""!==$("#search1").val()&&sessionStorage.advancedSearchtext==$("#search1").val();return sessionStorage.advancedSearchtext=$("#search1").val(),newSearchText};$("#btnid").on("click",(function(e){if(0==newSearchText()){$(".list-group-item").removeClass("selected"),$(".panel-heading").removeClass("selected"),$("#filterSearch").css("display","none"),$(".filterlist").removeClass("clicked"),userList.filter(),$(".search_autocomplete").addClass("hide"),userList.search($("#search1").val(),["name","desc","keywords"]);let settimeout=setTimeout((function(){clearTimeout(settimeout),$("#search1").val().length>0?($("#search-result-item").show(),$("#search-sugetions-item").hide()):($("#search-result-item").hide(),$("#search-sugetions-item").show())}),10);"true"==sessionStorage.sorting&&userList.sort("name",{order:sorting})}else $("#search-result-item").show(),$("#search-sugetions-item").hide();for(i of $elem("div[role='tabpanel']").el)void 0!==i.classList[2]&&i.classList.remove("in");for(i of $elem(".panel-title a").el)i.attributes[4].value=!1}));