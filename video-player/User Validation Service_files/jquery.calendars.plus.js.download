(function(d){d.extend(d.calendars.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});d.calendars.local=d.calendars.regionalOptions[""];d.extend(d.calendars.cdate.prototype,{formatDate:function(a,b){"string"!==typeof a&&(b=a,a="");return this._calendar.formatDate(a||
"",this,b)}});d.extend(d.calendars.baseCalendar.prototype,{UNIX_EPOCH:d.calendars.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:d.calendars.instance().jdEpoch,TICKS_PER_DAY:864E9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,b,c){"string"!==typeof a&&
(c=b,b=a,a="");if(!b)return"";if(b.calendar()!==this)throw d.calendars.local.invalidFormat||d.calendars.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;c=c||{};for(var e=c.dayNamesShort||this.local.dayNamesShort,k=c.dayNames||this.local.dayNames,t=c.monthNamesShort||this.local.monthNamesShort,v=c.monthNames||this.local.monthNames,u=function(b,c){for(var d=1;m+d<a.length&&a.charAt(m+d)===b;)d++;m+=d-1;return 1<Math.floor(d/(c||1))},g=function(a,b,c,d){b=""+b;if(u(a,d))for(;b.length<c;)b=
"0"+b;return b},f=function(a,b,c,d){return u(a)?d[b]:c[b]},r=this.local.digits,q=function(a){return c.localNumbers&&r?r(a):a},n="",w=!1,m=0;m<a.length;m++)if(w)"'"!==a.charAt(m)||u("'")?n+=a.charAt(m):w=!1;else switch(a.charAt(m)){case "d":n+=q(g("d",b.day(),2));break;case "D":n+=f("D",b.dayOfWeek(),e,k);break;case "o":n+=g("o",b.dayOfYear(),3);break;case "w":n+=g("w",b.weekOfYear(),2);break;case "m":n+=q(g("m",b.month(),2));break;case "M":n+=f("M",b.month()-this.minMonth,t,v);break;case "y":n+=u("y",
2)?b.year():(10>b.year()%100?"0":"")+b.year()%100;break;case "Y":u("Y",2);n+=b.formatYear();break;case "J":n+=b.toJD();break;case "@":n+=(b.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case "!":n+=(b.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case "'":u("'")?n+="'":w=!0;break;default:n+=a.charAt(m)}return n},parseDate:function(a,b,c){if(null==b)throw d.calendars.local.invalidArguments||d.calendars.regionalOptions[""].invalidArguments;b="object"===typeof b?b.toString():b+"";if(""===b)return null;
a=a||this.local.dateFormat;c=c||{};for(var e=c.shortYearCutoff||this.shortYearCutoff,e="string"!==typeof e?e:this.today().year()%100+parseInt(e,10),k=c.dayNamesShort||this.local.dayNamesShort,t=c.dayNames||this.local.dayNames,v=c.monthNamesShort||this.local.monthNamesShort,u=c.monthNames||this.local.monthNames,g=c=-1,f=-1,r=-1,q=-1,n=!1,w=!1,m=function(b,c){for(var d=1;p+d<a.length&&a.charAt(p+d)===b;)d++;p+=d-1;return 1<Math.floor(d/(c||1))},l=function(a,c){var e=m(a,c),e=[2,3,e?4:2,e?4:2,10,11,
20]["oyYJ@!".indexOf(a)+1],e=new RegExp("^-?\\d{1,"+e+"}"),e=b.substring(h).match(e);if(!e)throw(d.calendars.local.missingNumberAt||d.calendars.regionalOptions[""].missingNumberAt).replace(/\{0\}/,h);h+=e[0].length;return parseInt(e[0],10)},z=this,y=function(a,c,e,f){a=m(a,f)?e:c;for(c=0;c<a.length;c++)if(b.substr(h,a[c].length).toLowerCase()===a[c].toLowerCase())return h+=a[c].length,c+z.minMonth;throw(d.calendars.local.unknownNameAt||d.calendars.regionalOptions[""].unknownNameAt).replace(/\{0\}/,
h);},x=function(){if(b.charAt(h)!==a.charAt(p))throw(d.calendars.local.unexpectedLiteralAt||d.calendars.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,h);h++},h=0,p=0;p<a.length;p++)if(w)"'"!==a.charAt(p)||m("'")?x():w=!1;else switch(a.charAt(p)){case "d":r=l("d");break;case "D":y("D",k,t);break;case "o":q=l("o");break;case "w":l("w");break;case "m":f=l("m");break;case "M":f=y("M",v,u);break;case "y":g=p;n=!m("y",2);p=g;g=l("y",2);break;case "Y":g=l("Y",2);break;case "J":c=l("J")+.5;"."===
b.charAt(h)&&(h++,l("J"));break;case "@":c=l("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case "!":c=l("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case "*":h=b.length;break;case "'":m("'")?x():w=!0;break;default:x()}if(h<b.length)throw d.calendars.local.unexpectedText||d.calendars.regionalOptions[""].unexpectedText;-1===g?g=this.today().year():100>g&&n&&(g+=-1===e?1900:this.today().year()-this.today().year()%100-(g<=e?0:100));if(-1<q)for(f=1,r=q,e=this.daysInMonth(g,f);r>e;e=this.daysInMonth(g,
f))f++,r-=e;return-1<c?this.fromJD(c):this.newDate(g,f,r)},determineDate:function(a,b,c,d,k){c&&"object"!==typeof c&&(k=d,d=c,c=null);"string"!==typeof d&&(k=d,d="");b=b?b.newDate():null;if(null==a)a=b;else{var t;if("string"===typeof a)a:{try{t=this.parseDate(d,a,k);break a}catch(v){}a=a.toLowerCase();c=(a.match(/^c/)&&c?c.newDate():null)||this.today();d=/([+-]?[0-9]+)\s*(d|w|m|y)?/g;for(k=d.exec(a);k;)c.add(parseInt(k[1],10),k[2]||"d"),k=d.exec(a);t=c}else t="number"===typeof a?isNaN(a)||Infinity===
a||-Infinity===a?b:this.today().add(a,"d"):this.newDate(a);a=t}return a}})})(jq_bt);
(function(d){d.extend(d.calendars.regional[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"});d.calendars.local=d.calendars.regional[""];d.extend(d.calendars.cdate.prototype,{formatDate:function(a){return this._calendar.formatDate(a||"",this)}});d.extend(d.calendars.baseCalendar.prototype,
{UNIX_EPOCH:d.calendars.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:d.calendars.instance().jdEpoch,TICKS_PER_DAY:864E9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,b,c){"string"!=typeof a&&(c=b,b=a,a="");if(!b)return"";if(b.calendar()!=this)throw d.calendars.local.invalidFormat||
d.calendars.regional[""].invalidFormat;a=a||this.local.dateFormat;c=c||{};var e=c.dayNamesShort||this.local.dayNamesShort,k=c.dayNames||this.local.dayNames,t=c.monthNamesShort||this.local.monthNamesShort;c=c.monthNames||this.local.monthNames;for(var v=function(b,c){for(var d=1;q+d<a.length&&a.charAt(q+d)==b;)d++;q+=d-1;return 1<Math.floor(d/(c||1))},u=function(a,b,c,d){b=""+b;if(v(a,d))for(;b.length<c;)b="0"+b;return b},g=function(a,b,c,d){return v(a)?d[b]:c[b]},f="",r=!1,q=0;q<a.length;q++)if(r)"'"!=
a.charAt(q)||v("'")?f+=a.charAt(q):r=!1;else switch(a.charAt(q)){case "d":f+=u("d",b.day(),2);break;case "D":f+=g("D",b.dayOfWeek(),e,k);break;case "o":f+=u("o",b.dayOfYear(),3);break;case "w":f+=u("w",b.weekOfYear(),2);break;case "m":f+=u("m",b.month(),2);break;case "M":f+=g("M",b.month()-this.minMonth,t,c);break;case "y":f+=v("y",2)?b.year():(10>b.year()%100?"0":"")+b.year()%100;break;case "Y":v("Y",2);f+=b.formatYear();break;case "J":f+=b.toJD();break;case "@":f+=(b.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;
break;case "!":f+=(b.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case "'":v("'")?f+="'":r=!0;break;default:f+=a.charAt(q)}return f},parseDate:function(a,b,c){if(null==b)throw d.calendars.local.invalidArguments||d.calendars.regional[""].invalidArguments;b="object"==typeof b?b.toString():b+"";if(""==b)return null;a=a||this.local.dateFormat;c=c||{};for(var e=c.shortYearCutoff||this.shortYearCutoff,e="string"!=typeof e?e:this.today().year()%100+parseInt(e,10),k=c.dayNamesShort||this.local.dayNamesShort,
t=c.dayNames||this.local.dayNames,v=c.monthNamesShort||this.local.monthNamesShort,u=c.monthNames||this.local.monthNames,g=c=-1,f=-1,r=-1,q=-1,n=!1,w=!1,m=function(b,c){for(var d=1;p+d<a.length&&a.charAt(p+d)==b;)d++;p+=d-1;return 1<Math.floor(d/(c||1))},l=function(a,c){m(a,c);var e=[2,3,4,4,10,11,20]["oyYJ@!".indexOf(a)+1],e=new RegExp("^-?\\d{1,"+e+"}"),e=b.substring(h).match(e);if(!e)throw(d.calendars.local.missingNumberAt||d.calendars.regional[""].missingNumberAt).replace(/\{0\}/,h);h+=e[0].length;
return parseInt(e[0],10)},z=this,y=function(a,c,e,f){a=m(a,f)?e:c;for(c=0;c<a.length;c++)if(b.substr(h,a[c].length)==a[c])return h+=a[c].length,c+z.minMonth;throw(d.calendars.local.unknownNameAt||d.calendars.regional[""].unknownNameAt).replace(/\{0\}/,h);},x=function(){if(b.charAt(h)!=a.charAt(p))throw(d.calendars.local.unexpectedLiteralAt||d.calendars.regional[""].unexpectedLiteralAt).replace(/\{0\}/,h);h++},h=0,p=0;p<a.length;p++)if(w)"'"!=a.charAt(p)||m("'")?x():w=!1;else switch(a.charAt(p)){case "d":r=
l("d");break;case "D":y("D",k,t);break;case "o":q=l("o");break;case "w":l("w");break;case "m":f=l("m");break;case "M":f=y("M",v,u);break;case "y":g=p;n=!m("y",2);p=g;g=l("y",2);break;case "Y":g=l("Y",2);break;case "J":c=l("J")+.5;"."==b.charAt(h)&&(h++,l("J"));break;case "@":c=l("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case "!":c=l("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case "*":h=b.length;break;case "'":m("'")?x():w=!0;break;default:x()}if(h<b.length)throw d.calendars.local.unexpectedText||
d.calendars.regional[""].unexpectedText;-1==g?g=this.today().year():100>g&&n&&(g+=-1==e?1900:this.today().year()-this.today().year()%100-(g<=e?0:100));if(-1<q)for(f=1,r=q,e=this.daysInMonth(g,f);r>e;e=this.daysInMonth(g,f))f++,r-=e;return-1<c?this.fromJD(c):this.newDate(g,f,r)},determineDate:function(a,b,c,d,k){c&&"object"!=typeof c&&(k=d,d=c,c=null);"string"!=typeof d&&(k=d,d="");b=b?b.newDate():null;if(null==a)a=b;else{var t;if("string"==typeof a)a:{try{t=this.parseDate(d,a,k);break a}catch(v){}a=
a.toLowerCase();c=(a.match(/^c/)&&c?c.newDate():null)||this.today();d=/([+-]?[0-9]+)\s*(d|w|m|y)?/g;for(k=d.exec(a);k;)c.add(parseInt(k[1],10),k[2]||"d"),k=d.exec(a);t=c}else t="number"==typeof a?isNaN(a)||Infinity==a||-Infinity==a?b:this.today().add(a,"d"):a;a=t}return a}})})(jQuery);
